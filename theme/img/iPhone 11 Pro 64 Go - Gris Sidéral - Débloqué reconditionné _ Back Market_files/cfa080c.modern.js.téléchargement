(window.webpackJsonp=window.webpackJsonp||[]).push([[157,642],{1471:function(n,e,t){"use strict";t.d(e,"a",(function(){return S}));t(11),t(10),t(9);var r=t(5),o=t(8),c=t(15),l=t(14),d=t(69),A=t(255),h=t(755),y=t(64),m=t(381),f=t(37);function v(object,n){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(object);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(object,n).enumerable}))),e.push.apply(e,t)}return e}function O(n){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(r.a)(n,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(source,e))}))}return n}var j=Object.defineProperty,C=Object.getOwnPropertyDescriptor,k=(n,e,t,r)=>{for(var o,c=r>1?void 0:r?C(e,t):e,i=n.length-1;i>=0;i--)(o=n[i])&&(c=(r?o(e,t,c):o(c))||c);return r&&c&&j(e,t,c),c},_=class extends o.default{constructor(){super(...arguments),this.ActionRoundedVariants=A.a,this.IconClose=m.a,this.TypographyVariants=y.a}get classNames(){return[this.$style.banner,{[this.$style.link]:this.to}]}get props(){var n=this.$attrs;return this.tag===d.a?O(O({},n),{},{to:this.to}):n}get tag(){return this.to?d.a:"div"}close(n){this.$emit("close",n)}};k([Object(l.a)({type:String})],_.prototype,"cta",2),k([Object(l.a)({required:!0,type:String})],_.prototype,"label",2),k([Object(l.a)({type:[Object,String]})],_.prototype,"to",2);var x=_=k([Object(c.a)({components:{ActionBase:d.a,ActionRounded:A.b,ActionText:h.a,Typography:y.b},inheritAttrs:!1})],_),B=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("aside",{class:n.classNames},[t(n.tag,n._b({tag:"component",class:n.$style.content},"component",n.props,!1),[t("Typography",{attrs:{variant:n.TypographyVariants.Body2Light}},[n._v("\n      "+n._s(n.label)+"\n    ")]),n._v(" "),n.cta?t("ActionText",[n._v("\n      "+n._s(n.cta)+"\n    ")]):n._e()],1),n._v(" "),t("ActionRounded",{class:n.$style.closeButton,attrs:{icon:n.IconClose,variant:n.ActionRoundedVariants.Default},on:{click:n.close}})],1)};B._withStripped=!0;var P=function(n){n&&(n("data-v-2996ed8e_0",{source:"\n._1xp4zIt8 {\n  border: 0.1rem solid transparent;\n  background: #91dba7;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%\n}\n._1xp4zIt8[focus-within] {\n    border-color: #555555;\n}\n._1xp4zIt8:focus-within {\n    border-color: #555555;\n}\n._1xp4zIt8._1nDOB3iA:hover {\n    cursor: pointer;\n    background: #acffdb;\n    text-decoration: none;\n}\n._2oH_lb9X {\n  color: #111111;\n  flex: 1;\n  text-align: left;\n  text-decoration: none;\n  padding: 1.6rem 0;\n  padding-left: 2.4rem\n}\n@media (min-width: 768px) {\n._2oH_lb9X {\n    text-align: center;\n    padding: 1.6rem\n}\n}\n._29IGz4SH {\n  margin-right: 0.8rem;\n}\n@media (prefers-reduced-motion: no-preference) {\n._2oH_lb9X {\n    transition: 200ms ease-in;\n}\n}\n",map:{version:3,sources:["/home/travis/build/BackMarket/design-system/src/components/BannerSkinny/BannerSkinny.vue"],names:[],mappings:";AAqGA;EACA,gCAAA;EACA,mBAAA;EACA,aAAA;EACA,mBAAA;EACA,uBAAA;EACA;AAKA;AAHA;IACA,qBAAA;AACA;AAFA;IACA,qBAAA;AACA;AAIA;IACA,eAAA;IACA,mBAAA;IACA,qBAAA;AACA;AAGA;EACA,cAAA;EACA,OAAA;EACA,gBAAA;EACA,qBAAA;EACA,iBAAA;EACA;AAMA;AAJA;AARA;IASA,kBAAA;IACA;AAEA;AADA;AAGA;EACA,oBAAA;AACA;AAEA;AACA;IACA,yBAAA;AACA;AACA",file:"BannerSkinny.vue",sourcesContent:['<template>\n  <aside :class="classNames">\n    <component :is="tag" v-bind="props" :class="$style.content">\n      <Typography :variant="TypographyVariants.Body2Light">\n        {{ label }}\n      </Typography>\n\n      <ActionText v-if="cta">\n        {{ cta }}\n      </ActionText>\n    </component>\n\n    <ActionRounded\n      :class="$style.closeButton"\n      :icon="IconClose"\n      :variant="ActionRoundedVariants.Default"\n      @click="close"\n    />\n  </aside>\n</template>\n\n<script lang="ts">\nimport { Component, Prop, Vue } from \'vue-property-decorator\'\n\nimport ActionBase from \'@/components/ActionBase\'\nimport ActionRounded, {\n  Variants as ActionRoundedVariants,\n} from \'@/components/ActionRounded\'\nimport ActionText from \'@/components/ActionText\'\nimport Typography, {\n  Variants as TypographyVariants,\n} from \'@/components/Typography\'\nimport { IconClose } from \'@/icons/generated\'\n\n@Component({\n  components: {\n    ActionBase,\n    ActionRounded,\n    ActionText,\n    Typography,\n  },\n  inheritAttrs: false,\n})\nexport default class BannerSkinny extends Vue {\n  /**\n   * The text to display in a CTA at the end of your banner\'s content.\n   */\n  @Prop({ type: String })\n  readonly cta?: string\n\n  /**\n   * The main text content of the banner.\n   */\n  @Prop({ required: true, type: String })\n  readonly label!: string\n\n  /**\n   * The Location of the link the banner will redirect to when clicked.\n   * It could be either an (string) URL or a (object) route.\n   */\n  @Prop({ type: [Object, String] })\n  readonly to?: Location\n\n  private readonly ActionRoundedVariants = ActionRoundedVariants\n\n  private readonly IconClose = IconClose\n\n  private readonly TypographyVariants = TypographyVariants\n\n  get classNames() {\n    return [\n      this.$style.banner,\n      {\n        [this.$style.link]: this.to,\n      },\n    ]\n  }\n\n  get props() {\n    const attributes = this.$attrs\n    if (this.tag === ActionBase) {\n      return {\n        ...attributes,\n        to: this.to,\n      }\n    }\n\n    return attributes\n  }\n\n  get tag() {\n    return this.to ? ActionBase : \'div\'\n  }\n\n  close(event: Event) {\n    this.$emit(\'close\', event)\n  }\n}\n<\/script>\n\n<style lang="postcss" module>\n.banner {\n  border: 1px solid transparent;\n  background: var(--green-500);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n\n  &:focus-within {\n    border-color: var(--grey-500);\n  }\n}\n\n.banner.link {\n  &:hover {\n    cursor: pointer;\n    background: var(--green-300);\n    text-decoration: none;\n  }\n}\n\n.content {\n  color: var(--black);\n  flex: 1;\n  text-align: left;\n  text-decoration: none;\n  padding: var(--spacing-4) 0;\n  padding-left: var(--spacing-6);\n\n  @media (--medium) {\n    text-align: center;\n    padding: var(--spacing-4);\n  }\n}\n\n.closeButton {\n  margin-right: var(--spacing-2);\n}\n\n@media (prefers-reduced-motion: no-preference) {\n  .content {\n    transition: var(--transition-medium) ease-in;\n  }\n}\n</style>\n']},media:void 0}),Object.defineProperty(this,"$style",{value:{banner:"_1xp4zIt8",link:"_1nDOB3iA",content:"_2oH_lb9X",closeButton:"_29IGz4SH"}}))},S=Object(c.c)({render:B,staticRenderFns:[]},P,x,void 0,!1,void 0,!1,f.a,void 0,void 0)},2050:function(n,e,t){"use strict";t.r(e);t(11),t(10),t(9);var r=t(5),o=t(1471),c=t(16),l=t(260),d=t(26);function A(object,n){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(object);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(object,n).enumerable}))),e.push.apply(e,t)}return e}function h(n){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?A(Object(source),!0).forEach((function(e){Object(r.a)(n,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(source)):A(Object(source)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(source,e))}))}return n}var y={components:{BannerSkinny:o.a},props:{page:{type:String,required:!0},bannerId:{type:Number,default:null}},data:()=>({seen:!0}),computed:h(h({},Object(c.c)({skinnyBanner:"countryConfig/skinnyBanner"})),{},{props(){var{cta_text:n,text:text,name:e,target_blank:t,link:link}=this.skinnyBanner(this.page,this.bannerId);return{to:link,label:text,cta:n,name:e,target:t?"_blank":"_self"}},isDisplayed(){return!this.seen}}),watch:{seen(n){l.a.setItem("skinny_banner_".concat(this.props.name),n)}},mounted(){this.seen="true"===l.a.getItem("skinny_banner_".concat(this.props.name))},methods:{sendMarketingData(){Object(d.f)({name:this.props.name,zone:"skinnyBanner"})},closeBanner(){this.seen=!0}}},m=t(0),component=Object(m.a)(y,(function(){var n=this,e=n.$createElement,t=n._self._c||e;return n.isDisplayed?t("BannerSkinny",n._b({on:{click:n.sendMarketingData,close:n.closeBanner},nativeOn:{click:function(e){return n.sendMarketingData(e)}}},"BannerSkinny",n.props,!1)):n._e()}),[],!1,null,null,null);e.default=component.exports},2729:function(n,e,t){"use strict";t.r(e);t(11),t(10),t(9);var r=t(5),o=t(2),c=t(16),l=t(2050),d=t(3),A=t(385),h=t(3987);function y(object,n){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(object);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(object,n).enumerable}))),e.push.apply(e,t)}return e}function m(n){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(e){Object(r.a)(n,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(source,e))}))}return n}var f={components:{SkinnyBanner:l.default,ProductResults:h.default},data:()=>({isLoading:!1}),fetch:n=>Object(o.a)((function*(){var{store:e,route:t}=n,{query:r,hash:o,name:c,params:l}=t,source=Object(A.b)(c);e.dispatch("landing/reset"),yield e.dispatch("landingSearch/fetchResults",{searchParams:new A.a({query:r,hash:o,context:{source:source,slug:l.category,id:l.id},paramsWhitelist:e.getters["landingSearch/filterWhitelist"]})})}))(),computed:m(m({},Object(c.c)({isSkinnyBannerAvailable:"countryConfig/isSkinnyBannerAvailable",filterWhitelist:"landingSearch/filterWhitelist",searchHasResults:"landingSearch/hasResults",isCurrentContextId:"landingSearch/isCurrentContextId"})),{},{searchContext(){var{params:n,name:e}=this.$route;return Object(d.I)({source:Object(A.b)(e),slug:n.category,id:n.id})},searchParams(){var{query:n,hash:e}=this.$route;return new A.a({query:n,hash:e,context:this.searchContext,paramsWhitelist:this.filterWhitelist})},searchFilters(){return this.searchParams.toFilters()},hasResultsOrFilters(){return this.searchHasResults||this.searchParams.hasUserFilters()},shouldDisplayResults(){return this.hasResultsOrFilters&&this.isCurrentContextId(this.searchParams.contextId)}}),watch:{$route:{immediate:!0,handler(){this.fetchSearchResults()}}},methods:{fetchSearchResults(){var n=this;return Object(o.a)((function*(){n.isLoading=!0,yield n.$store.dispatch("landingSearch/fetchResults",{searchParams:n.searchParams}),n.isLoading=!1}))()},updateQueryString(filter){var n=m(m({},this.searchFilters),{},{page:1,context:this.searchContext,paramsWhitelist:this.filterWhitelist},filter),e=A.a.fromFilters(n).toQueryParams();this.updateURLFromFilters(e)},resetFilters(){var{q:q}=this.searchFilters;this.updateURLFromFilters(m({},q&&{query:{q:q}}))},updateURLFromFilters(n){var{hash:e,query:t}=n;this.$router.push({name:this.$route.name,params:this.$route.params,hash:e,query:t})}}},v=t(0),component=Object(v.a)(f,(function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",[n.isSkinnyBannerAvailable("landing")?t("SkinnyBanner",{attrs:{"data-test":"landing-skinny-banner",page:"landing"}}):n._e(),n._v(" "),t("div",[t("NuxtChild",{attrs:{name:"topLanding"},on:{filter:n.updateQueryString}}),n._v(" "),n.shouldDisplayResults?t("ProductResults",{attrs:{"data-test":"product-results-refinement",filters:n.searchFilters,"is-loading":n.isLoading},on:{filter:n.updateQueryString,"reset-filters":n.resetFilters}}):n._e(),n._v(" "),t("NuxtChild",{attrs:{name:"bottomLanding"}})],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);